"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addBMCapability = void 0;
const constants_1 = require("../../constants");
const applyObjectModification_1 = require("../../utils/applyObjectModification");
const plistTask_1 = require("../plistTask");
function addBMCapability(args) {
    let plistContent = (0, plistTask_1.readPListContent)(args.targetName, constants_1.Constants.PLIST_FILE_NAME, true);
    const capabilityValues = {
        UIBackgroundModes: args.modes,
    };
    plistContent = (0, applyObjectModification_1.applyObjectModification)(plistContent, {
        set: capabilityValues,
        strategy: 'merge_distinct',
    });
    (0, plistTask_1.writePListContent)(plistContent, args.targetName);
}
exports.addBMCapability = addBMCapability;
