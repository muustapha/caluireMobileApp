"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addGroupsCapability = void 0;
const applyObjectModification_1 = require("../../utils/applyObjectModification");
const plistTask_1 = require("../plistTask");
function addGroupsCapability(args) {
    let plistContent = (0, plistTask_1.readPListContent)(args.targetName, args.filename, true);
    const capabilityValues = {
        'com.apple.security.application-groups': args.groups,
    };
    plistContent = (0, applyObjectModification_1.applyObjectModification)(plistContent, {
        set: capabilityValues,
        strategy: 'merge_distinct',
    });
    (0, plistTask_1.writePListContent)(plistContent, args.targetName, args.filename);
}
exports.addGroupsCapability = addGroupsCapability;
