"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.setState = void 0;
const variables_1 = require("../variables");
function setState(name, state) {
    if (name) {
        if (state.state == 'done') {
            const currentState = variables_1.variables.get(name);
            if (currentState && currentState.state != 'progress')
                return;
        }
        variables_1.variables.set(name, state.state);
        variables_1.variables.set(name + '.error', state.error);
        variables_1.variables.set(name + '.reason', state.reason);
    }
}
exports.setState = setState;
