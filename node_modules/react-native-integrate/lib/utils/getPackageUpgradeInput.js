"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.handlePackageUpgradeInput = void 0;
const variables_1 = require("../variables");
const packageUpgradeConfig_1 = require("./packageUpgradeConfig");
function handlePackageUpgradeInput(packageName, inputName) {
    const isUpgrade = variables_1.variables.get('__UPGRADE__') == true;
    if (!isUpgrade)
        return false;
    // get from .upgrade folder
    const packageUpgradeConfig = (0, packageUpgradeConfig_1.getPackageUpgradeConfig)(packageName);
    // check if input is defined
    if (!packageUpgradeConfig.inputs)
        return false;
    const inputValue = packageUpgradeConfig.inputs[inputName];
    // check if input has value
    if (inputValue == null)
        return false;
    // set input value to variables
    variables_1.variables.set(inputName, inputValue);
    return true;
}
exports.handlePackageUpgradeInput = handlePackageUpgradeInput;
