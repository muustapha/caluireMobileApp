"use strict";
/* eslint-disable @typescript-eslint/no-unsafe-call */
Object.defineProperty(exports, "__esModule", { value: true });
const { writeMockLock } = require('../../mocks/mockAll');
const constants_1 = require("../../../constants");
const analyzePackages_1 = require("../../../utils/analyzePackages");
describe('analyzePackages', () => {
    it('should get new packages', () => {
        const { newPackages } = (0, analyzePackages_1.analyzePackages)();
        expect(newPackages).toBeTruthy();
        expect(newPackages).toContainEqual(['mock-package', '^1.2.3']);
    });
    it('should not get integrated packages', () => {
        writeMockLock({
            lockfileVersion: constants_1.Constants.CURRENT_LOCK_VERSION,
            packages: {
                'mock-package': {
                    version: '^1.2.3',
                    integrated: true,
                },
            },
        });
        const { newPackages } = (0, analyzePackages_1.analyzePackages)();
        expect(newPackages).toBeTruthy();
        expect(newPackages).toEqual([['react-native', '^1.2.3']]);
    });
});
