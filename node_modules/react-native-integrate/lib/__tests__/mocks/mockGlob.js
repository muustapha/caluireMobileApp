"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mockGlob = void 0;
const mockFs_1 = require("./mockFs");
exports.mockGlob = {
    globSync: (pattern) => {
        if (!mockFs_1.mockFs.permissions.read)
            throw new Error('[mock] permission denied');
        return Object.keys(mockFs_1.mockFs.getStore()).filter(key => new RegExp(pattern.replace(/\*\/?/g, '.*?')).test(key));
    },
    glob: (pattern) => new Promise(resolve => resolve(exports.mockGlob.globSync(pattern))),
};
jest.mock('glob', () => exports.mockGlob);
